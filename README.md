# System_analyst
This is a test task for the company

1. Найденные логические противоречия и недочеты

Противоречия (критические):

    Пункт 2 vs Пункт 9: В пункте 2 указано, что уменьшить количество можно *"не менее, чем до 1-го"*, а для удаления есть отдельная кнопка. В пункте 9 говорится, что при уменьшении количества "до 0, товар удаляется из корзины". Это прямое противоречие. Либо удаление только через кнопку, либо через уменьшение до нуля. Оба способа в одном интерфейсе создадут путаницу.

    Пункт 4 vs Пункт 1: Пункт 1 позволяет добавить "от 1 до 10 единиц одного товара". Пункт 4 ограничивает общее количество товаров 20 штук. Если в корзине уже 3 товара по 10 штук (итого 30), это нарушает лимит в 20 штук из пункта 4. Система должна проверять общий лимит перед добавлением 10-й единицы товара, но в ТЗ это не описано. Логика приоритета ограничений неясна.

    Пункт 7 vs Пункт 13: Пункт 7 фиксирует цену на момент добавления. Пункт 13 предписывает автоматически обновлять цену в корзине при ее изменении в каталоге. Это взаимоисключающие требования. Одно из них — базовое ожидание пользователя (цена фиксируется), другое — удобство для бизнеса (актуальность цен). Нужно выбрать одну логику.

Недочеты и неполные места (некритические, но важные):

    Пункт 3: "В корзине может находиться не более 5 различных товаров." Что считается "различным товаром"? Если товар отличается только размером или цветом (вариантом), это один товар или разные? Требуется уточнение.

    Пункт 6: Сообщение "Лимит корзины превышен" слишком общее. Пользователь не поймет, какой именно лимит: на общее количество (20), на количество разных товаров (5) или на количество единиц одного товара (10). Сообщения должны быть конкретными (например, "Достигнут лимит в 5 разных товаров").

    Пункт 10 и 11: Требования к рекламе (10. В корзине может быть реклама... и 11. ...должна быть каждый будний день по утрам и вечерам) не относятся к функционалу корзины. Это требования к CMS, системе показа рекламы или главной странице. Их наличие в ТЗ по корзине вносит шум. Логика "по утрам и вечерам" также технически сложна (часовой пояс пользователя?).

    Нумерация: После пункта 11 сразу идет пункт 13. Пропущен пункт 12.

    Отсутствие ключевых сценариев: Не описано, что происходит с товаром, который уже есть в корзине, при повторном нажатии "Добавить в корзину". Увеличивается ли его количество? Игнорируется ли действие? Выдается ли предупреждение?

    Отсутствие нефункциональных требований: Нет требований к производительности (как быстро должна обновляться корзина), хранению данных (корзина должна сохраняться между сессиями?), доступности.

2. Исправленная версия фрагмента ТЗ

Раздел ТЗ: Функционал корзины интернет-магазина "Петрушка Зеленая"

1. Добавление товара
1.1. Пользователь может добавить товар из каталога в корзину.
1.2. При повторном добавлении идентичного товара (с тем же ID и вариантом, если применимо) его количество в корзине увеличивается.
1.3. Цена товара фиксируется на момент его первого добавления в корзину пользователем и не изменяется до момента оформления заказа. *(Примечание: выбрана логика фиксации цены как более user-friendly. Альтернатива — в П.13)*

2. Ограничения корзины
2.1. Максимальное количество одной позиции (одного товара с одинаковыми атрибутами) в корзине — 10 единиц.
2.2. Максимальное количество разных позиций (уникальных товаров или товаров с разными атрибутами) в корзине — 5.
2.3. Максимальное общее количество всех товаров в корзине — 20 единиц.
2.4. Система проверяет соблюдение лимитов 2.1-2.3 в момент попытки добавления или изменения количества товара. Приоритет проверки: 2.2 -> 2.3 -> 2.1.

3. Управление товарами в корзине
3.1. На странице корзины для каждой позиции отображаются: название, атрибуты, цена за единицу, поле ввода количества и общая стоимость позиции.
3.2. Пользователь может изменять количество товара в поле ввода. Допустимый диапазон: от 1 до максимального по п. 2.1.
3.3. Для удаления товара из корзины используется отдельная кнопка "Удалить" рядом с каждой позицией. Уменьшение количества до 0 через поле ввода невозможно.

4. Обработка превышения лимитов и ошибок
4.1. При попытке действия, нарушающего любое из ограничений п. 2, операция блокируется, и пользователю показывается интуитивное сообщение:
* При превышении лимита разных товаров (2.2): "В корзине может быть не более 5 разных товаров. Удалите один из существующих, чтобы добавить новый."
* При превышении общего количества (2.3): "Общее количество товаров в корзине не может превышать 20 шт. Уменьшите количество других товаров."
* При попытке установить >10 шт. для одной позиции (2.1): "Нельзя добавить более 10 единиц одного товара."
4.2. На странице корзины всегда отображается текущая общая стоимость заказа.

5. Хранение и синхронизация
5.1. Содержимое корзины, включая зафиксированные цены, должно сохраняться для зарегистрированного пользователя между сессиями. Для гостя — храниться в браузере (localStorage/sessionStorage) на срок до 7 дней.
